<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <h2 class="text-center">Daftar Mahasiswa</h2>

            <!-- Tombol tambah + search sejajar -->
            <div class="d-flex justify-content-between align-items-center mb-2">
                <!-- Tombol Tambah (kiri) -->
                <a href="/contact/add" class="btn btn-warning fw-bold me-3"><i class="bi bi-plus-square-fill"></i> Add Students</a>

                <!-- Form Search (kanan) -->
                <form method="post" action="/cari" role="search" class="d-flex" style="max-width: 300px;">
                    <input class="form-control me-2" type="search" name="nama" placeholder="Search"
                        aria-label="Search" />
                    <button class="btn btn-dark" type="submit">Search</button>
                </form>
            </div>

            <% if (flash) { %>
                <div class="alert alert-<%= flash.type %> alert-dismissible fade show" role="alert">
                    <%= flash.message %>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                <% } %>

                    <table class="table table-striped table-hover ">
                        <thead>
                            <tr class="table-secondary">
                                <th scope="col">NO</th>
                                <th scope="col">Nama  <a href="/sorting?sort=asc" class="text-decoration-none text-dark" id="sort"> <i class="bi bi-sort-alpha-down"> </i>
                                    <a href="/sorting?sort=desc" class="text-decoration-none text-dark" id="sort"> <i class="bi bi-sort-alpha-up-alt"></i>
                               </th>
                                <th scope="col">NPM</th>
                                <th scope="col">Aksi</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (contacts.length===0) { %>
                                <tr>
                                    <td colspan="4">
                                        <div class="alert alert-danger fw-bold" role="alert">Data Kontak masih kosong!
                                        </div>
                                    </td>
                                </tr>
                                <% } %>

                                    <% contacts.forEach((contact,i)=> { %>
                                        <tr>
                                            <td scope="row">
                                                <%= i+1 %>
                                            </td>
                                            <td>
                                                <%= contact.nama %>
                                            </td>
                                            <td>
                                                <%= contact.npm %>
                                            </td>
                                            <td>
                                                <a href="/contact/<%= contact.id %>"
                                                    class="btn btn-success badge rounded-pill">Detail <i
                                                        class="bi bi-info-circle"></i></a>
                                            </td>
                                        </tr>
                                        <% }) %>
                        </tbody>
                    </table>
        </div>
    </div>
</div>

